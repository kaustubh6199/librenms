mib: ALGPOWER-v2-MIB
modules:
    os:
        sysDescr_regex: '/ALGCOM/'
        
    sensors:
        voltage:
                data:
                   -

                     oid: outputVoltage
                     num_oid: '.1.3.6.1.4.1.49136.1.1.1.{{$index}}'
                     divisor: 10
                     descr: 'DC regulated Bus Voltage'
                   
                   -
                   
                     oid: batteryVoltage
                     num_oid: '.1.3.6.1.4.1.49136.1.2.1.{{$index}}'
                     divisor: 10
                     descr: 'Battery Bus Voltage'
                   
                   -
                   
                     oid: supplyVoltage
                     num_oid: '.1.3.6.1.4.1.49136.1.6.1.{{$index}}'
                     divisor: 10
                     descr: 'AC Mains Voltage (Optional)'
                   
                   -
                   
                     oid: btst-volt-i
                     num_oid: '.1.3.6.1.4.1.49136.1.8.5.{{$index}}'
                     divisor: 10
                     descr: 'Battery test initial voltage'
                   
                   -
                   
                     oid: btst-volt-f
                     num_oid: '.1.3.6.1.4.1.49136.1.8.7.{{$index}}'
                     divisor: 10
                     descr: 'Battery test final voltage'
     
        current:
                data:
                    -

                      oid: outputCurrent
                      num_oid: '.1.3.6.1.4.1.49136.1.1.2.{{$index}}'
                      divisor: 10
                      descr: 'Total AC/DC output current'

                    -

                      oid: batteryCurrent
                      num_oid: '.1.3.6.1.4.1.49136.1.2.2.{{$index}}'
                      divisor: 10
                      descr: 'Battery Bus current'

                    -

                      oid: btst-amp-i
                      num_oid: '.1.3.6.1.4.1.49136.1.8.6.{{$index}}'
                      divisor: 10
                      descr: 'Battery test initial current'
                    -

                      oid: btst-amp-f
                      num_oid: '.1.3.6.1.4.1.49136.1.8.8.{{$index}}'
                      divisor: 10
                      descr: 'Battery test final current'
                                         



        temperature:
                data:
                    -

                      oid: innerTemperature
                      num_oid: '.1.3.6.1.4.1.49136.1.4.1.{{$index}}'
                      divisor: 10
                      descr: 'Internal temperature'

                    -

                      oid: outerTemperature
                      num_oid: '.1.3.6.1.4.1.49136.1.4.2.{{$index}}'
                      divisor: 10
                      descr: 'External probe temperature'

                    -

                      oid: heatSinkTemperature
                      num_oid: '.1.3.6.1.4.1.49136.1.4.3.{{$index}}'
                      divisor: 10
                      descr: 'AC/DC Heatsink temperature'


        state:
                data:
                    -

                      oid: chargerStatus
                      num_oid: '.1.3.6.1.4.1.49136.1.2.3.{{ $index }}'
                      descr: 'Charger Status'
                      states:
                        - { descr: BATTERY_DISCONNECTED, graph: 1, value: 0, generic: 0 }
                        - { descr: WRONG_BATTERY_VOLTAGE, graph: 1, value: 1, generic: 0 }
                        - { descr: DISCHARGING, graph: 1, value: 2, generic: 0 }
                        - { descr: CHARGING_BULK, graph: 1, value: 3, generic: 0 }
                        - { descr: CHARGING_ABSORBTION, graph: 1, value: 4, generic: 0 }
                        - { descr: CHARGING_FLOAT, graph: 1, value: 5, generic: 0 }
                        - { descr: CRITICAL_LOW_VOLTAGE, graph: 1, value: 6, generic: 0 }
                        - { descr: BATTERY_UNDER_TEST, graph: 1, value: 7, generic: 0 }



