mib: NORTEL-OPTICAL-PM-MIB
modules:
    os:
        sysDescr_regex: '/(?<hardware>.*)SW:(?<version>\S+)/'
    pre-cache:
        data:
            -
                oid: nnOpticalPmRecentTable
                snmp_flags: [-OeQUsb]
    sensors:
        dbm:
            data:
                -
                    oid: nnOpticalPmRecentTable
                    value: nnOpticalPmCurr15MinValue
                    num_oid: .1.3.6.1.4.1.562.68.10.1.1.1.1.1.6.{{ $index }}
                    descr: nnOpticalPmRecentMonTypeDescr
                    index: 'nnOpticalPmRecentTable.{{ $index }}'
                    skip_values:
                        -
                            oid: nnOpticalPmRecentMonType
                            op: 'not_in_array'
                            value: [51, 82, 83, 84, 32, 34, 49, 50, 52, 55, 57, 76, 77, 78, 79, 80, 81, 85, 86, 87, 94, 95, 96, 100, 101, 102, 133, 134, 135, 155, 156, 157, 158, 163, 164, 165]
                    group: nnOpticalPmRecentIfIndexDescr
        count:
            data:
                -
                    oid: nnOpticalPmRecentTable
                    value: nnOpticalPmCurr15MinValue
                    num_oid: .1.3.6.1.4.1.562.68.10.1.1.1.1.1.6.{{ $index }}
                    descr: nnOpticalPmRecentMonTypeDescr
                    index: 'nnOpticalPmRecentTable.{{ $index }}'
                    skip_values:
                        -
                            oid: nnOpticalPmRecentMonType
                            op: 'not_in_array'
                            value: [1, 2, 3, 4, 8, 9, 10, 11, 12, 18, 19, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 36, 37, 38, 39, 40, 41, 44, 45, 46, 47, 48, 58, 59, 60, 62, 64, 65, 66, 68, 104, 105, 106, 145, 146, 147, 148, 149, 150, 151, 152, 178, 179, 180, 245, 246, 247, 294, 295, 296, 297, 298, 299, 310, 311]
                    group: nnOpticalPmRecentIfIndexDescr
        percentage:
            data:
                -
                    oid: nnOpticalPmRecentTable
                    value: nnOpticalPmCurr15MinValue
                    num_oid: .1.3.6.1.4.1.562.68.10.1.1.1.1.1.6.{{ $index }}
                    descr: nnOpticalPmRecentMonTypeDescr
                    index: 'nnOpticalPmRecentTable.{{ $index }}'
                    skip_values:
                        -
                            oid: nnOpticalPmRecentMonType
                            op: 'not_in_array'
                            value: [33, 35]
                    group: nnOpticalPmRecentIfIndexDescr
        ber:
            data:
                -
                    oid: nnOpticalPmRecentTable
                    value: nnOpticalPmCurr15MinValue
                    num_oid: .1.3.6.1.4.1.562.68.10.1.1.1.1.1.6.{{ $index }}
                    descr: nnOpticalPmRecentMonTypeDescr
                    index: 'nnOpticalPmRecentTable.{{ $index }}'
                    skip_values:
                        -
                            oid: nnOpticalPmRecentMonType
                            op: 'not_in_array'
                            value: [42, 43, 136]
                    group: nnOpticalPmRecentIfIndexDescr