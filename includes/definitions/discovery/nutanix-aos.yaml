mib: NUTANIX-MIB
modules:
    sensors:
        state:
            data:
                -
                    oid: diskStatusTable
                    value: dstState
                    num_oid: '{{ $dstState }}.{{ $index }}'
                    index: 'DISKSTATE-{{ dstDiskId }}'
                    descr: 'Disk {{ $dstDiskId }}'
                    states:
                        - { descr: ok , graph: 0, value: 1, generic: 0 }
                        - { descr: error  , graph: 0, value: 2, generic: 1 }
        count:
            data:
                -
                    oid: hypervisorInformationTable
                    value: hypervisorVmCount
                    num_oid: '{{ $hypervisorVmCount }}.{{ $index }}'
                    descr: '{{ $hypervisorName }} VM Count'
                    index: 'VMS-{{ $hypervisorName }}'
        percent:
            data:
                -
                    oid: hypervisorInformationTable
                    value: hypervisorMemoryUsagePercent
                    num_oid: '{{ $hypervisorMemoryUsagePercent }}.{{ $index }}'
                    descr: '{{ $hypervisorName }} RAM'
                    index: 'RAM-{{ $hypervisorName }}'
                    warn_limit: 90
                    high_limit: 95
                -
                    oid: hypervisorInformationTable
                    value: hypervisorCpuUsagePercent
                    num_oid: '{{ $hypervisorCpuUsagePercent }}.{{ $index }}'
                    descr: '{{ $hypervisorName }} CPU'
                    index: 'CPU-{{ $hypervisorName }}'
                    warn_limit: 90
                    high_limit: 95
